pipeline {
  agent {
    docker {
      image 'kaur1997/maven-jdk17-docker:v6'
      args '--user root -v /var/run/docker.sock:/var/run/docker.sock'
      reuseNode true
    }
  }
  stages {
    stage('Verify Java') {
      steps {
        sh '''
          export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64
          export PATH=$JAVA_HOME/bin:$PATH

          echo "Using JAVA_HOME: $JAVA_HOME"
          echo "PATH: $PATH"
          java -version
          javac -version
         '''
      }
    }
}
}
