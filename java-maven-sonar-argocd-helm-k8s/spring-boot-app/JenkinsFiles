pipeline {
  agent {
    docker {
      image 'kaur1997/maven-jdk17-docker:v6'
      args '--user root -v /var/run/docker.sock:/var/run/docker.sock'
      reuseNode true
    }
  }
  
  environment {
    JAVA_HOME = "/usr/lib/jvm/java-17-openjdk-amd64"
    PATH = "${JAVA_HOME}/bin:${env.PATH}"
  }

  stages {
    stage('Verify Java') {
      steps {
        sh 'java -version'
        sh 'javac -version'
      }
    }
}
}
